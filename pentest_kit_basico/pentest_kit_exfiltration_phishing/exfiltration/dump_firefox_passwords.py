
import os
import json
import sqlite3

def dump_firefox_passwords():
    ff_profile = os.path.expanduser("~/.mozilla/firefox")
    profile_path = ""
    for folder in os.listdir(ff_profile):
        if folder.endswith(".default-release"):
            profile_path = os.path.join(ff_profile, folder)
            break

    logins_path = os.path.join(profile_path, "logins.json")
    if os.path.exists(logins_path):
        with open(logins_path, "r") as file:
            data = json.load(file)
            for login in data["logins"]:
                print(f"Site: {login['hostname']}")
                print(f"User: {login['encryptedUsername']}")
                print(f"Pass: {login['encryptedPassword']}\n")

if __name__ == "__main__":
    dump_firefox_passwords()
